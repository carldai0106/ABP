/*!
 PowerTip - v1.2.0 - 2013-04-03
 http://stevenbenner.github.com/jquery-powertip/
 Copyright (c) 2013 Steven Benner (http://stevenbenner.com/).
 Released under MIT license.
 https://raw.github.com/stevenbenner/jquery-powertip/master/LICENSE.txt
*/
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){function h(){var t=this;t.top="auto";t.left="auto";t.right="auto";t.bottom="auto";t.set=function(i,r){n.isNumeric(r)&&(t[i]=Math.round(r))}}function g(n,i,r){function s(s,h){o();n.data(f)||(s?(h&&n.data(e,!0),r.showTip(n)):(t.tipOpenImminent=!0,u=setTimeout(function(){u=null;c()},i.intentPollInterval)))}function h(s){o();t.tipOpenImminent=!1;n.data(f)&&(n.data(e,!1),s?r.hideTip(n):(t.delayInProgress=!0,u=setTimeout(function(){u=null;r.hideTip(n);t.delayInProgress=!1},i.closeDelay)))}function c(){var u=Math.abs(t.previousX-t.currentX),f=Math.abs(t.previousY-t.currentY),e=u+f;e<i.intentSensitivity?r.showTip(n):(t.previousX=t.currentX,t.previousY=t.currentY,s())}function o(){u=clearTimeout(u);t.delayInProgress=!1}function l(){r.resetPosition(n)}var u=null;this.show=s;this.hide=h;this.cancel=o;this.resetPosition=l}function nt(){function n(n,u,f,e,o){var l=u.split("-")[0],s=new h,c=it(n)?r(n,l):i(n,l);switch(u){case"n":s.set("left",c.left-f/2);s.set("bottom",t.windowHeight-c.top+o);break;case"e":s.set("left",c.left+o);s.set("top",c.top-e/2);break;case"s":s.set("left",c.left-f/2);s.set("top",c.top+o);break;case"w":s.set("top",c.top-e/2);s.set("right",t.windowWidth-c.left+o);break;case"nw":s.set("bottom",t.windowHeight-c.top+o);s.set("right",t.windowWidth-c.left-20);break;case"nw-alt":s.set("left",c.left);s.set("bottom",t.windowHeight-c.top+o);break;case"ne":s.set("left",c.left-20);s.set("bottom",t.windowHeight-c.top+o);break;case"ne-alt":s.set("bottom",t.windowHeight-c.top+o);s.set("right",t.windowWidth-c.left);break;case"sw":s.set("top",c.top+o);s.set("right",t.windowWidth-c.left-20);break;case"sw-alt":s.set("left",c.left);s.set("top",c.top+o);break;case"se":s.set("left",c.left-20);s.set("top",c.top+o);break;case"se-alt":s.set("top",c.top+o);s.set("right",t.windowWidth-c.left)}return s}function i(n,t){var i=n.offset(),f=n.outerWidth(),e=n.outerHeight(),r,u;switch(t){case"n":r=i.left+f/2;u=i.top;break;case"e":r=i.left+f;u=i.top+e/2;break;case"s":r=i.left+f/2;u=i.top+e;break;case"w":r=i.left;u=i.top+e/2;break;case"nw":r=i.left;u=i.top;break;case"ne":r=i.left+f;u=i.top;break;case"sw":r=i.left;u=i.top+e;break;case"se":r=i.left+f;u=i.top+e}return{top:u,left:r}}function r(n,i){function u(){f.push(r.matrixTransform(c))}var w=n.closest("svg")[0],y=n[0],r=w.createSVGPoint(),o=y.getBBox(),c=y.getScreenCTM(),s=o.width/2,l=o.height/2,f=[],a=["nw","n","ne","e","se","s","sw","w"],v,p,h,e;if(r.x=o.x,r.y=o.y,u(),r.x+=s,u(),r.x+=s,u(),r.y+=l,u(),r.y+=l,u(),r.x-=s,u(),r.x-=s,u(),r.y-=l,u(),f[0].y!==f[1].y||f[0].x!==f[7].x)for(p=Math.atan2(c.b,c.a)*d,h=Math.ceil((p%360-22.5)/45),h<1&&(h+=8);h--;)a.push(a.shift());for(e=0;e<f.length;e++)if(a[e]===i){v=f[e];break}return{top:v.y+t.scrollTop,left:v.x+t.scrollLeft}}this.compute=n}function tt(o){function it(n){n.data(f,!0);s.queue(function(t){w(n);t()})}function w(n){var i;if(n.data(f)){if(t.isTipOpen){t.isClosing||y(t.activeHover);s.delay(100).queue(function(t){w(n);t()});return}if(n.trigger("powerTipPreRender"),i=ut(n),i)s.empty().append(i);else return;n.trigger("powerTipRender");t.activeHover=n;t.isTipOpen=!0;s.data(a,o.mouseOnToPopup);o.followMouse?p():(d(n),t.isFixedTipOpen=!0);s.fadeIn(o.fadeInTime,function(){t.desyncTimeout||(t.desyncTimeout=setInterval(rt,500));n.trigger("powerTipOpen")})}}function y(n){t.isClosing=!0;t.activeHover=null;t.isTipOpen=!1;t.desyncTimeout=clearInterval(t.desyncTimeout);n.data(f,!1);n.data(e,!1);s.fadeOut(o.fadeOutTime,function(){var i=new h;t.isClosing=!1;t.isFixedTipOpen=!1;s.removeClass();i.set("top",t.currentY+o.offset);i.set("left",t.currentX+o.offset);s.css(i);n.trigger("powerTipClose")})}function p(){if(!t.isFixedTipOpen&&(t.isTipOpen||t.tipOpenImminent&&s.data(l))){var r=s.outerWidth(),f=s.outerHeight(),n=new h,i,e;n.set("top",t.currentY+o.offset);n.set("left",t.currentX+o.offset);i=k(n,r,f);i!==u.none&&(e=ft(i),e===1?i===u.right?n.set("left",t.windowWidth-r):i===u.bottom&&n.set("top",t.scrollTop+t.windowHeight-f):(n.set("left",t.currentX-r-o.offset),n.set("top",t.currentY-f-o.offset)));s.css(n)}}function d(t){var r,i;o.smartPlacement?(r=n.fn.powerTip.smartPlacementLists[o.placement],n.each(r,function(n,r){var f=k(g(t,r),s.outerWidth(),s.outerHeight());return i=r,f===u.none?!1:void 0})):(g(t,o.placement),i=o.placement);s.addClass(i)}function g(n,t){var f=0,r,u,i=new h;i.set("top",0);i.set("left",0);s.css(i);do r=s.outerWidth(),u=s.outerHeight(),i=tt.compute(n,t,r,u,o.offset),s.css(i);while(++f<=5&&(r!==s.outerWidth()||u!==s.outerHeight()));return i}function rt(){var n=!1;!t.isTipOpen||t.isClosing||t.delayInProgress||(t.activeHover.data(f)===!1||t.activeHover.is(":disabled")?n=!0:b(t.activeHover)||t.activeHover.is(":focus")||t.activeHover.data(e)||(s.data(a)?b(s)||(n=!0):n=!0),n&&y(t.activeHover))}var tt=new nt,s=n("#"+o.popupId);if(s.length===0&&(s=n("<div/>",{id:o.popupId}),c.length===0&&(c=n("body")),c.append(s)),o.followMouse&&!s.data(l)){v.on("mousemove",p);i.on("scroll",p);s.data(l,!0)}if(o.mouseOnToPopup)s.on({mouseenter:function(){s.data(a)&&t.activeHover&&t.activeHover.data(r).cancel()},mouseleave:function(){t.activeHover&&t.activeHover.data(r).hide()}});this.showTip=it;this.hideTip=y;this.resetPosition=d}function it(n){return window.SVGElement&&n[0]instanceof SVGElement}function rt(){if(!t.mouseTrackingActive){t.mouseTrackingActive=!0;n(function(){t.scrollLeft=i.scrollLeft();t.scrollTop=i.scrollTop();t.windowWidth=i.width();t.windowHeight=i.height()});v.on("mousemove",w);i.on({resize:function(){t.windowWidth=i.width();t.windowHeight=i.height()},scroll:function(){var n=i.scrollLeft(),r=i.scrollTop();n!==t.scrollLeft&&(t.currentX+=n-t.scrollLeft,t.scrollLeft=n);r!==t.scrollTop&&(t.currentY+=r-t.scrollTop,t.scrollTop=r)}})}}function w(n){t.currentX=n.pageX;t.currentY=n.pageY}function b(n){var i=n.offset(),r=n[0].getBoundingClientRect(),u=r.right-r.left,f=r.bottom-r.top;return t.currentX>=i.left&&t.currentX<=i.left+u&&t.currentY>=i.top&&t.currentY<=i.top+f}function ut(t){var r=t.data(s),i=t.data(y),e=t.data(p),f,u;return r?(n.isFunction(r)&&(r=r.call(t[0])),u=r):i?(n.isFunction(i)&&(i=i.call(t[0])),i.length>0&&(u=i.clone(!0,!0))):e&&(f=n("#"+e),f.length>0&&(u=f.html())),u}function k(n,i,r){var e=t.scrollTop,o=t.scrollLeft,s=e+t.windowHeight,h=o+t.windowWidth,f=u.none;return(n.top<e||Math.abs(n.bottom-t.windowHeight)-r<e)&&(f|=u.top),(n.top+r>s||Math.abs(n.bottom-t.windowHeight)>s)&&(f|=u.bottom),(n.left<o||n.right+i>h)&&(f|=u.left),(n.left+i>h||n.right<o)&&(f|=u.right),f}function ft(n){for(var t=0;n;)n&=n-1,t++;return t}var v=n(document),i=n(window),c=n("body"),r="displayController",f="hasActiveHover",e="forcedOpen",l="hasMouseMove",a="mouseOnToPopup",o="originalTitle",s="powertip",y="powertipjq",p="powertiptarget",d=180/Math.PI,t={isTipOpen:!1,isFixedTipOpen:!1,isClosing:!1,tipOpenImminent:!1,activeHover:null,currentX:0,currentY:0,previousX:0,previousY:0,desyncTimeout:null,mouseTrackingActive:!1,delayInProgress:!1,windowWidth:0,windowHeight:0,scrollTop:0,scrollLeft:0},u={none:0,top:1,bottom:2,left:4,right:8};n.fn.powerTip=function(t,i){if(!this.length)return this;if(n.type(t)==="string"&&n.powerTip[t])return n.powerTip[t].call(this,this,i);var u=n.extend({},n.fn.powerTip.defaults,t),f=new tt(u);if(rt(),this.each(function(){var t=n(this),e=t.data(s),h=t.data(y),c=t.data(p),i;t.data(r)&&n.powerTip.destroy(t);i=t.attr("title");e||c||h||!i||(t.data(s,i),t.data(o,i),t.removeAttr("title"));t.data(r,new g(t,u,f))}),!u.manual)this.on({"mouseenter.powertip":function(t){n.powerTip.show(this,t)},"mouseleave.powertip":function(){n.powerTip.hide(this)},"focus.powertip":function(){},"blur.powertip":function(){n.powerTip.hide(this,!0)},"keydown.powertip":function(t){t.keyCode===27&&n.powerTip.hide(this,!0)}});return this};n.fn.powerTip.defaults={fadeInTime:200,fadeOutTime:100,followMouse:!1,popupId:"powerTip",intentSensitivity:7,intentPollInterval:100,closeDelay:100,placement:"n",smartPlacement:!1,offset:10,mouseOnToPopup:!1,manual:!1};n.fn.powerTip.smartPlacementLists={n:["n","ne","nw","s"],e:["e","ne","se","w","nw","sw","n","s","e"],s:["s","se","sw","n"],w:["w","nw","sw","e","ne","se","n","s","w"],nw:["nw","w","sw","n","s","se","nw"],ne:["ne","e","se","n","s","sw","ne"],sw:["sw","w","nw","s","n","ne","sw"],se:["se","e","ne","s","n","nw","se"],"nw-alt":["nw-alt","n","ne-alt","sw-alt","s","se-alt","w","e"],"ne-alt":["ne-alt","n","nw-alt","se-alt","s","sw-alt","e","w"],"sw-alt":["sw-alt","s","se-alt","nw-alt","n","ne-alt","w","e"],"se-alt":["se-alt","s","sw-alt","ne-alt","n","nw-alt","e","w"]};n.powerTip={show:function(i,u){return u?(w(u),t.previousX=u.pageX,t.previousY=u.pageY,n(i).data(r).show()):n(i).first().data(r).show(!0,!0),i},reposition:function(t){return n(t).first().data(r).resetPosition(),t},hide:function(i,u){return i?n(i).first().data(r).hide(u):t.activeHover&&t.activeHover.data(r).hide(!0),i},destroy:function(t){return n(t).off(".powertip").each(function(){var t=n(this),i=[o,r,f,e];t.data(o)&&(t.attr("title",t.data(o)),i.push(s));t.removeData(i)}),t}};n.powerTip.showTip=n.powerTip.show;n.powerTip.closeTip=n.powerTip.hide});
//# sourceMappingURL=jquery.powertip.min.js.map
